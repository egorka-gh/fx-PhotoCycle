/**
 * Generated by Gas3 v3.1.0 (Granite Data Services).
 *
 * NOTE: this file is only generated if it does not exist. You may safely put
 * your custom code here.
 */

package com.photodispatcher.model.mysql.entities {
	import flash.globalization.DateTimeStyle;
	
	import mx.collections.ArrayCollection;
	import mx.collections.ArrayList;
	
	import spark.components.gridClasses.GridColumn;
	import spark.formatters.DateTimeFormatter;

    [Bindable]
    [RemoteClass(alias="com.photodispatcher.model.mysql.entities.TechReject")]
    public class TechReject extends TechRejectBase {
		public static const UNIT_NONE:int=-1;
		public static const UNIT_SHEET:int=0;
		public static const UNIT_COVER:int=1;
		public static const UNIT_BLOCK:int=2;
		public static const UNIT_BOOK:int=3;
		public static const UNIT_PART:int=90;
		public static const UNIT_ALL:int=100;

        public function TechReject() {
            super();
        }
		
		public static function gridColumns():ArrayList{
			var result:ArrayList= new ArrayList();
			
			var col:GridColumn;
			col= new GridColumn('order_id'); col.headerText='Заказ'; result.addItem(col);
			col= new GridColumn('state_name'); col.headerText='Статус'; result.addItem(col);
			var fmt:DateTimeFormatter=new DateTimeFormatter(); fmt.dateStyle=fmt.timeStyle=DateTimeStyle.SHORT; 
			col= new GridColumn('state_date'); col.headerText='Дата статуса'; col.formatter=fmt;  result.addItem(col);
			col= new GridColumn('staff_name'); col.headerText='Сотрудник'; result.addItem(col);
			col= new GridColumn('sa_type_name'); col.headerText='Причина'; result.addItem(col);
			col= new GridColumn('sa_remark'); col.headerText='Примечание'; result.addItem(col);
			
			return result;
		}
		
		public function addPrintgroupLink(srcPg:String,dstPg:String):void{
			var it:TechRejectPG;
			if(!srcPg || !dstPg) return;
			if(!pgroups){
				pgroups=new ArrayCollection();
			}else{
				//check if exists
				for each(it in pgroups){
					if(it.pg_src==srcPg && it.pg_dst==dstPg) return;
				}
			}
			it= new TechRejectPG();
			it.tech_reject=this.id;
			it.pg_src=srcPg;
			it.pg_dst=dstPg;
			pgroups.addItem(it);
		}

    }
}
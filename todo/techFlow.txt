
выделить браки в отдельные ветки extra state
исключить их из общего расчета статуса заказа?
	
момент обединения брака с основным закзом?
учет движения статуса на уровне книг там же отметка о браке
полиграфия при браке идет дальше, игнорим книги с браком до общего блок/обложка статуса?
фотопечать херпойми получается висит на статусе ждет перепечатки

техпроцесс
параллельное движение блока и обложки по техроцессу
схождение их на общих операциях
зависимый контроль транзита на общую операцию, если застряла обложка на своих операциях транзит блока на общей операции не орет 
не понятно описание на уровне базы
разделение на транзит и саму операцию

под рефактор
OrderServiceImpl.addReprintPGroups
OrderStateServiceImpl - просмотреть весь
TechServiceImpl  - просмотреть весь


eState start
начало тех операции
все предидущие закрыть (set и ожидание перехода) по части книги
переход с предидущей на текущую - завершон

eState set
фиксация окончания тех операции (без контроля)
ожидание перехода на следующую

eState forward (ex techUnitCalc)
пересчет статусов (книг пг подзаказа и заказа) - необязательно
проверка окончания тех операции
фиксация (eState set)

eState calc 
пересчет статусов (книг пг подзаказа и заказа)
2016-02-04
подзаказы из розницы
sub_id сделать последовательным номером внутри основного заказа
id проекта хранить в отдельном поле
отразить sub_id в индефикаторе книги (шк и подписи)

обединить структуру обектов заказа и подзаказов так чтобы в коде использовать один обект заказ 

группы печати сохранять алиас в базе 

разделить структуру заказов и печать/производство
1 элементарная единица учета печати/производства книга а не группа печати
2 необходимо обединять заказы в единый блок производства
3 необходимо обединять в печать книги из разных заказов (оредактор печать двух разворотов на одном листе)

перепечатка
ввести обект reprintTask
будет создаваться оператором при браке (сканом или ручками)
суть - задача на перепечатку блока/обложки книги или конкретного разворота/обложки
reprintTask обрабатывается конвеером сборщика с первоочередным приоритетом
сборщик создает группы печати и готовит их к печати

переписать учет напечатаных разворотов
нужен накопительный/пакетный режим для скоростной печати и прочих фолдингов